<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AutoMind HUD v2 · Predictive Vehicle Maintenance Prototype</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Fonts (optional, but nice if online) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #01030a;
      --panel-bg: rgba(9, 13, 30, 0.96);
      --panel-border: rgba(88, 114, 161, 0.7);
      --accent: #00f5ff;
      --accent-soft: rgba(0, 245, 255, 0.18);
      --good: #00ff7b;
      --warn: #ffd93b;
      --bad: #ff3366;
      --text-main: #f9fafb;
      --text-muted: #9ca3af;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      background:
        radial-gradient(circle at 15% 0%, rgba(0, 245, 255, 0.2), transparent 55%),
        radial-gradient(circle at 85% 100%, rgba(255, 51, 102, 0.16), transparent 55%),
        radial-gradient(circle at 50% 50%, #020617, #020617 60%, #000 100%);
      color: var(--text-main);
      font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      overflow: hidden;
    }

    .scan-overlay {
      position: fixed;
      inset: 0;
      background-image: linear-gradient(
        to bottom,
        rgba(255, 255, 255, 0.05) 1px,
        transparent 1px
      );
      background-size: 100% 3px;
      opacity: 0.09;
      pointer-events: none;
      animation: scanMove 10s linear infinite;
      z-index: 0;
    }

    @keyframes scanMove {
      0% { transform: translateY(0); }
      100% { transform: translateY(3px); }
    }

    .grid-overlay {
      position: fixed;
      inset: 0;
      background-image:
        linear-gradient(to right, rgba(15, 23, 42, 0.4) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(15, 23, 42, 0.4) 1px, transparent 1px);
      background-size: 40px 40px;
      opacity: 0.23;
      pointer-events: none;
      z-index: 0;
    }

    .viewport {
      position: relative;
      z-index: 1;
      padding: 12px 18px 16px;
      display: flex;
      flex-direction: column;
      gap: 8px;
      height: 100vh;
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      padding: 6px 10px 6px 6px;
      border-radius: 12px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      background: radial-gradient(circle at left, rgba(0, 245, 255, 0.18), transparent 55%),
                  radial-gradient(circle at right, rgba(248, 113, 113, 0.22), transparent 55%),
                  rgba(15, 23, 42, 0.95);
      box-shadow: 0 0 22px rgba(15, 23, 42, 0.9);
    }

    .brand-block {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .hex-logo {
      width: 48px;
      height: 48px;
      position: relative;
    }

    .hex-logo svg {
      width: 100%;
      height: 100%;
      filter: drop-shadow(0 0 12px rgba(0, 245, 255, 0.7));
    }

    .hex-logo span {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: "Orbitron", system-ui;
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
    }

    .title-stack h1 {
      font-family: "Orbitron", system-ui;
      font-size: 18px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
    }

    .title-stack p {
      font-size: 11px;
      color: var(--text-muted);
      margin-top: 2px;
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .flag-pill {
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      font-size: 10px;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      color: var(--accent);
      background: radial-gradient(circle at top, rgba(0, 245, 255, 0.28), rgba(15, 23, 42, 0.9));
      box-shadow:
        0 0 10px rgba(0, 245, 255, 0.7),
        0 0 20px rgba(0, 245, 255, 0.35);
    }

    .mode-pill {
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      font-size: 10px;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.14em;
      background: rgba(15, 23, 42, 0.9);
    }

    .main-layout {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.2fr) minmax(0, 0.9fr);
      gap: 10px;
      flex: 1;
      min-height: 0;
    }

    @media (max-width: 1024px) {
      .main-layout {
        grid-template-columns: 1fr;
        grid-auto-rows: auto;
        overflow-y: auto;
      }
    }

    .panel {
      border-radius: 18px;
      border: 1px solid var(--panel-border);
      background: linear-gradient(145deg, rgba(9, 13, 30, 0.96), rgba(8, 12, 24, 0.98));
      padding: 12px 14px 14px;
      box-shadow: 0 0 30px rgba(15, 23, 42, 0.95);
      position: relative;
      overflow: hidden;
      min-height: 0;
    }

    .panel::before {
      content: "";
      position: absolute;
      inset: -30%;
      background: radial-gradient(circle at top left, rgba(0, 245, 255, 0.2), transparent 55%);
      opacity: 0.12;
      pointer-events: none;
    }

    .panel-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
      z-index: 1;
      position: relative;
    }

    .panel-title {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: var(--text-muted);
    }

    .panel-title strong {
      color: var(--accent);
      margin-right: 6px;
    }

    .panel-meta {
      font-size: 10px;
      color: var(--text-muted);
    }

    .inputs-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 8px;
      z-index: 1;
      position: relative;
    }

    .field-row {
      display: grid;
      grid-template-columns: 0.8fr 1.6fr;
      gap: 8px;
      align-items: center;
    }

    .field-label {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--text-muted);
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .field-badge {
      font-size: 10px;
      color: var(--accent);
    }

    .slider-shell {
      position: relative;
    }

    input[type="range"] {
      width: 100%;
      -webkit-appearance: none;
      background: transparent;
      outline: none;
      height: 5px;
      border-radius: 999px;
      background:
        radial-gradient(circle at left, var(--accent-soft), transparent 55%),
        linear-gradient(to right, rgba(30, 64, 175, 0.7), rgba(15, 23, 42, 1));
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: var(--accent);
      border: 2px solid #020617;
      box-shadow:
        0 0 0 4px rgba(0, 245, 255, 0.35),
        0 0 16px rgba(0, 245, 255, 0.8);
      cursor: pointer;
    }

    input[type="range"]::-moz-range-thumb {
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: var(--accent);
      border: 2px solid #020617;
      box-shadow:
        0 0 0 4px rgba(0, 245, 255, 0.35),
        0 0 16pxrgba(0, 245, 255, 0.8);
      cursor: pointer;
    }

    .preset-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 10px;
    }

    .chip {
      border-radius: 999px;
      padding: 4px 9px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: rgba(15, 23, 42, 0.96);
      font-size: 10px;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      cursor: pointer;
      color: var(--text-muted);
      transition: all 0.15s ease;
    }

    .chip[data-preset="good"] { border-color: rgba(34, 197, 94, 0.7); }
    .chip[data-preset="warn"] { border-color: rgba(234, 179, 8, 0.7); }
    .chip[data-preset="bad"]  { border-color: rgba(248, 113, 113, 0.8); }

    .chip:hover {
      transform: translateY(-1px);
      box-shadow: 0 0 16px rgba(0, 245, 255, 0.4);
      color: var(--accent);
      border-color: var(--accent);
    }

    .primary-btn {
      margin-top: 12px;
      width: 100%;
      border-radius: 999px;
      border: none;
      padding: 9px 12px;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      font-weight: 700;
      cursor: pointer;
      background: radial-gradient(circle at top, var(--accent), #0ea5e9);
      color: #020617;
      box-shadow:
        0 0 18px rgba(0, 245, 255, 0.9),
        0 0 40px rgba(0, 245, 255, 0.5);
      transition: transform 0.08s ease, box-shadow 0.08s ease;
    }

    .primary-btn:hover {
      transform: translateY(-1px);
      box-shadow:
        0 0 26px rgba(0, 245, 255, 1),
        0 0 60px rgba(0, 245, 255, 0.8);
    }

    .primary-btn:active {
      transform: translateY(1px) scale(0.99);
      box-shadow:
        0 0 20px rgba(0, 245, 255, 0.6),
        0 0 40px rgba(0, 245, 255, 0.5);
    }

    /* Center HUD */

    .hud-inner {
      position: relative;
      z-index: 1;
      display: grid;
      grid-template-rows: auto 1fr;
      gap: 8px;
      height: 100%;
    }

    .hud-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 10px;
      color: var(--text-muted);
    }

    .hud-top span strong {
      color: var(--accent);
      margin-left: 4px;
    }

    .car-scene {
      position: relative;
      border-radius: 16px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      background:
        radial-gradient(circle at top, rgba(0, 0, 0, 0.7), transparent 60%),
        radial-gradient(circle at bottom, rgba(15, 23, 42, 0.95), rgba(15, 23, 42, 1));
      overflow: hidden;
      flex: 1;
      min-height: 0;
      display: grid;
      grid-template-columns: 1.1fr 0.9fr;
    }

    @media (max-width: 900px) {
      .car-scene {
        grid-template-columns: 1fr;
      }
    }

    .car-visual {
      position: relative;
      padding: 12px 10px 10px 16px;
    }

    .car-visual::before {
      content: "";
      position: absolute;
      inset: 0;
      background:
        radial-gradient(circle at top, rgba(56, 189, 248, 0.3), transparent 55%),
        radial-gradient(circle at bottom, rgba(15, 23, 42, 0.9), #020617);
      opacity: 0.6;
      mix-blend-mode: screen;
      pointer-events: none;
    }

    .car-outline {
      position: relative;
      width: 100%;
      height: 100%;
      max-height: 210px;
      margin: 0 auto;
      border-radius: 999px;
      border: 1px dashed rgba(148, 163, 184, 0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      backdrop-filter: blur(8px);
    }

    .car-outline svg {
      width: 100%;
      max-width: 320px;
      filter:
        drop-shadow(0 0 12px rgba(0, 245, 255, 0.9))
        drop-shadow(0 0 22px rgba(59, 130, 246, 0.8));
    }

    .scan-beam {
      position: absolute;
      inset: 0;
      background: linear-gradient(
        to right,
        transparent 0%,
        rgba(0, 249, 255, 0.18) 45%,
        rgba(0, 249, 255, 0.55) 50%,
        rgba(0, 249, 255, 0.18) 55%,
        transparent 100%
      );
      animation: beam 4.5s linear infinite;
      mix-blend-mode: screen;
      pointer-events: none;
    }

    @keyframes beam {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    .hud-metrics {
      position: relative;
      padding: 12px 12px 8px 10px;
      border-left: 1px solid rgba(148, 163, 184, 0.6);
      background: linear-gradient(
        145deg,
        rgba(15, 23, 42, 0.96),
        rgba(15, 23, 42, 0.98),
        rgba(15, 23, 42, 0.92)
      );
    }

    .hud-metrics-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 10px;
      color: var(--text-muted);
      margin-bottom: 6px;
    }

    .status-badge {
      border-radius: 999px;
      padding: 3px 8px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      font-size: 9px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
    }

    .status-main-label {
      font-family: "Orbitron", system-ui;
      font-size: 13px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      margin-top: 4px;
    }

    .status-main-label.good { color: var(--good); }
    .status-main-label.warn { color: var(--warn); }
    .status-main-label.bad  { color: var(--bad);  }

    .status-sub {
      margin-top: 4px;
      font-size: 11px;
      color: var(--text-muted);
    }

    .prob-number {
      margin-top: 8px;
      font-size: 12px;
      color: var(--accent);
    }

    .tiny-label {
      font-size: 9px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--text-muted);
      margin-top: 10px;
    }

    .reason-list {
      margin-top: 4px;
      font-size: 11px;
      color: var(--text-muted);
      padding-left: 16px;
    }

    .reason-list li + li {
      margin-top: 2px;
    }

    .gauge-wrap {
      margin-top: 10px;
      display: grid;
      grid-template-columns: 1.1fr 0.9fr;
      gap: 8px;
      align-items: center;
    }

    @media (max-width: 900px) {
      .gauge-wrap {
        grid-template-columns: 1fr;
      }
    }

    .semi-gauge {
      position: relative;
      width: 100%;
      padding-top: 60%;
      border-radius: 12px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      overflow: hidden;
      background: radial-gradient(circle at bottom, #020617, #020617 55%, #020617 100%);
    }

    .semi-gauge-inner {
      position: absolute;
      inset: 10% 8% 0 8%;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      overflow: hidden;
    }

    .semi-arc {
      width: 100%;
      height: 200%;
      border-radius: 50%;
      background: conic-gradient(
        from 210deg,
        var(--good),
        var(--warn),
        var(--bad),
        #020617,
        #020617
      );
      opacity: 0.9;
    }

    .needle {
      position: absolute;
      width: 2px;
      height: 110%;
      background: #e5e7eb;
      transform-origin: bottom center;
      transform: rotate(-110deg);
      box-shadow: 0 0 6px rgba(248, 250, 252, 0.8);
      transition: transform 0.25s ease-out;
    }

    .gauge-label {
      position: absolute;
      bottom: 8px;
      left: 0;
      right: 0;
      text-align: center;
      font-size: 10px;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.16em;
    }

    .metric-stack {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 6px;
      margin-top: 6px;
    }

    @media (max-width: 900px) {
      .metric-stack {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    .metric-chip {
      border-radius: 10px;
      border: 1px solid rgba(148, 163, 184, 0.75);
      padding: 6px 8px;
      font-size: 10px;
      display: flex;
      flex-direction: column;
      gap: 2px;
      background: radial-gradient(circle at top, rgba(15, 23, 42, 0.92), rgba(15, 23, 42, 1));
    }

    .metric-label {
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--text-muted);
    }

    .metric-value {
      font-family: "Orbitron", system-ui;
      font-size: 13px;
    }

    /* Right panel log */

    .log-list {
      margin-top: 6px;
      font-size: 11px;
      color: var(--text-muted);
      list-style: none;
      max-height: 220px;
      overflow-y: auto;
      padding-right: 2px;
    }

    .log-item {
      padding: 4px 4px 4px 0;
      border-bottom: 1px dashed rgba(55, 65, 81, 0.7);
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .log-top {
      display: flex;
      justify-content: space-between;
      gap: 6px;
    }

    .log-bottom {
      font-size: 10px;
      opacity: 0.8;
    }

    .log-item span.status-tag {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
    }

    .status-tag.good { color: var(--good); }
    .status-tag.warn { color: var(--warn); }
    .status-tag.bad  { color: var(--bad);  }

    footer {
      margin-top: 4px;
      padding: 2px 4px;
      font-size: 10px;
      color: var(--text-muted);
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 6px;
    }

    footer span strong {
      color: var(--accent);
      margin-left: 4px;
    }
  </style>
</head>
<body>
  <div class="scan-overlay"></div>
  <div class="grid-overlay"></div>

  <div class="viewport">
    <header>
      <div class="brand-block">
        <div class="hex-logo">
          <svg viewBox="0 0 100 100">
            <defs>
              <linearGradient id="gradHex" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="#00f5ff"/>
                <stop offset="50%" stop-color="#38bdf8"/>
                <stop offset="100%" stop-color="#6366f1"/>
              </linearGradient>
            </defs>
            <polygon
              points="50,4 90,26 90,74 50,96 10,74 10,26"
              fill="none"
              stroke="url(#gradHex)"
              stroke-width="2"
            />
            <polygon
              points="50,14 82,32 82,68 50,86 18,68 18,32"
              fill="none"
              stroke="rgba(148,163,184,0.7)"
              stroke-width="1"
              stroke-dasharray="4 4"
            />
          </svg>
          <span>AUTOMIND</span>
        </div>
        <div class="title-stack">
          <h1>Predictive Vehicle Maintenance HUD v2</h1>
          <p>Engine · Tyres · Brakes · Suspension · Risk cockpit</p>
        </div>
      </div>
      <div class="header-right">
        <div class="mode-pill">MODE · SIMULATION</div>
        <div class="flag-pill">EY TECHATHON · POC</div>
      </div>
    </header>

    <main class="main-layout">
      <!-- LEFT PANEL: Telemetry controls -->
      <section class="panel">
        <div class="panel-header">
          <div class="panel-title"><strong>01</strong> INPUT TELEMETRY</div>
          <div class="panel-meta">Driver: <span style="color:var(--accent);">AUTO·AGENT</span></div>
        </div>

        <div class="inputs-grid">
          <div class="field-row">
            <div class="field-label">
              <span>ENGINE TEMP</span>
              <span class="field-badge" id="tempLabel">95 °C</span>
            </div>
            <div class="slider-shell">
              <input id="tempSlider" type="range" min="70" max="140" step="1" value="95">
            </div>
          </div>

          <div class="field-row">
            <div class="field-label">
              <span>ENGINE RPM</span>
              <span class="field-badge" id="rpmLabel">3000 RPM</span>
            </div>
            <div class="slider-shell">
              <input id="rpmSlider" type="range" min="800" max="7500" step="100" value="3000">
            </div>
          </div>

          <div class="field-row">
            <div class="field-label">
              <span>VIBRATION</span>
              <span class="field-badge" id="vibLabel">0.03 g</span>
            </div>
            <div class="slider-shell">
              <input id="vibSlider" type="range" min="0" max="30" step="1" value="3">
            </div>
          </div>

          <div class="field-row">
            <div class="field-label">
              <span>OIL PRESSURE</span>
              <span class="field-badge" id="oilLabel">40 PSI</span>
            </div>
            <div class="slider-shell">
              <input id="oilSlider" type="range" min="10" max="70" step="1" value="40">
            </div>
          </div>

          <!-- NEW: Tyre, Brakes, Suspension -->
          <div class="field-row">
            <div class="field-label">
              <span>TYRE PRESSURE (AVG)</span>
              <span class="field-badge" id="tyreLabel">34 PSI</span>
            </div>
            <div class="slider-shell">
              <input id="tyreSlider" type="range" min="24" max="42" step="1" value="34">
            </div>
          </div>

          <div class="field-row">
            <div class="field-label">
              <span>BRAKE HEALTH</span>
              <span class="field-badge" id="brakeLabel">85 %</span>
            </div>
            <div class="slider-shell">
              <input id="brakeSlider" type="range" min="0" max="100" step="1" value="85">
            </div>
          </div>

          <div class="field-row">
            <div class="field-label">
              <span>SUSPENSION HEALTH</span>
              <span class="field-badge" id="suspLabel">80 %</span>
            </div>
            <div class="slider-shell">
              <input id="suspSlider" type="range" min="0" max="100" step="1" value="80">
            </div>
          </div>
        </div>

        <div class="preset-row">
          <button class="chip" data-preset="good">Good Condition</button>
          <button class="chip" data-preset="warn">Early Warning</button>
          <button class="chip" data-preset="bad">High Risk</button>
        </div>

        <button class="primary-btn" id="predictBtn">
          RUN PREDICTIVE CHECK
        </button>
      </section>

      <!-- CENTER PANEL: Car HUD -->
      <section class="panel">
        <div class="hud-inner">
          <div class="hud-top">
            <span>Vehicle ID: <strong>FLEET-07 · SIM</strong></span>
            <span>Predictive Diagnostics Agent v0.2</span>
          </div>

          <div class="car-scene">
            <div class="car-visual">
              <div class="car-outline">
                <svg viewBox="0 0 400 180">
                  <path
                    d="M30,135 L60,75 Q90,40 150,40 L250,40 Q310,40 340,85 L370,135 L350,145 L40,145 Z
                       M110,75 L165,75 L155,55 L125,55 Z
                       M230,75 L285,75 L275,55 L245,55 Z"
                    fill="none"
                    stroke="#00f5ff"
                    stroke-width="3"
                    stroke-linejoin="round"
                    stroke-linecap="round"
                  />
                  <circle cx="95" cy="145" r="18" fill="none" stroke="#38bdf8" stroke-width="3" />
                  <circle cx="95" cy="145" r="10" fill="none" stroke="#0ea5e9" stroke-width="2" />
                  <circle cx="305" cy="145" r="18" fill="none" stroke="#38bdf8" stroke-width="3" />
                  <circle cx="305" cy="145" r="10" fill="none" stroke="#0ea5e9" stroke-width="2" />
                  <!-- Tyre highlight arcs -->
                  <path d="M80,152 A18,18 0 0,1 110,152" stroke="#22c55e" stroke-width="2" fill="none" />
                  <path d="M290,152 A18,18 0 0,1 320,152" stroke="#22c55e" stroke-width="2" fill="none" />
                  <!-- Brake markers -->
                  <path d="M95,145 L95,130" stroke="#f97316" stroke-width="2" />
                  <path d="M305,145 L305,130" stroke="#f97316" stroke-width="2" />
                  <!-- Suspension markers -->
                  <path d="M60,110 L75,95" stroke="#4ade80" stroke-width="2" />
                  <path d="M340,110 L325,95" stroke="#4ade80" stroke-width="2" />
                </svg>
                <div class="scan-beam"></div>
              </div>
            </div>

            <div class="hud-metrics">
              <div class="hud-metrics-header">
                <span>Health Status Stream</span>
                <span class="status-badge" id="statusBadge">LIVE · SAFE</span>
              </div>

              <div class="status-main-label good" id="statusMain">VEHICLE SAFE</div>
              <div class="status-sub" id="statusSub">
                No immediate maintenance required. All vital signals are within stable band.
              </div>
              <div class="prob-number" id="probText">
                Failure probability: 18.0%
              </div>

              <div class="tiny-label">Explanation</div>
              <ul class="reason-list" id="reasonList">
                <li>All critical parameters are within safe thresholds for this vehicle profile.</li>
              </ul>

              <div class="gauge-wrap">
                <div class="semi-gauge">
                  <div class="semi-gauge-inner">
                    <div class="semi-arc"></div>
                    <div class="needle" id="needle"></div>
                    <div class="gauge-label">Risk Gauge</div>
                  </div>
                </div>
                <div>
                  <div class="tiny-label">Snapshot Metrics</div>
                  <div class="metric-stack">
                    <div class="metric-chip">
                      <div class="metric-label">RPM</div>
                      <div class="metric-value" id="rpmGauge">3000</div>
                    </div>
                    <div class="metric-chip">
                      <div class="metric-label">TEMP</div>
                      <div class="metric-value" id="tempGauge">95 °C</div>
                    </div>
                    <div class="metric-chip">
                      <div class="metric-label">VIB</div>
                      <div class="metric-value" id="vibGauge">0.03 g</div>
                    </div>
                    <div class="metric-chip">
                      <div class="metric-label">OIL</div>
                      <div class="metric-value" id="oilGauge">40 PSI</div>
                    </div>
                    <div class="metric-chip">
                      <div class="metric-label">TYRE</div>
                      <div class="metric-value" id="tyreGauge">34 PSI</div>
                    </div>
                    <div class="metric-chip">
                      <div class="metric-label">BRAKE</div>
                      <div class="metric-value" id="brakeGauge">85 %</div>
                    </div>
                    <div class="metric-chip">
                      <div class="metric-label">SUSP</div>
                      <div class="metric-value" id="suspGauge">80 %</div>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </section>

      <!-- RIGHT PANEL: Recent scans -->
      <section class="panel">
        <div class="panel-header">
          <div class="panel-title"><strong>03</strong> SCAN HISTORY</div>
          <div class="panel-meta">Last 5 runs</div>
        </div>

        <ul class="log-list" id="logList">
          <!-- Logs appended via JS -->
        </ul>
      </section>
    </main>

    <footer>
      <span>Pipeline: Engine + Tyres + Brakes + Suspension &nbsp;→&nbsp; risk scoring &nbsp;→&nbsp; autonomous recommendation</span>
      <span>Prototype: <strong>Predictive Diagnostics Agent · v0.2 (Multi-system HUD)</strong></span>
    </footer>
  </div>

  <script>
    // Thresholds (engine + new systems)
    const TEMP_LIMIT = 110.0;
    const RPM_LIMIT  = 5000.0;
    const VIB_LIMIT  = 0.08;
    const OIL_MIN    = 25.0;

    const TYRE_IDEAL_MIN = 30.0;
    const TYRE_IDEAL_MAX = 36.0;
    const BRAKE_MIN      = 40.0;  // %
    const SUSP_MIN       = 50.0;  // %

    const tempSlider  = document.getElementById("tempSlider");
    const rpmSlider   = document.getElementById("rpmSlider");
    const vibSlider   = document.getElementById("vibSlider");
    const oilSlider   = document.getElementById("oilSlider");
    const tyreSlider  = document.getElementById("tyreSlider");
    const brakeSlider = document.getElementById("brakeSlider");
    const suspSlider  = document.getElementById("suspSlider");

    const tempLabel  = document.getElementById("tempLabel");
    const rpmLabel   = document.getElementById("rpmLabel");
    const vibLabel   = document.getElementById("vibLabel");
    const oilLabel   = document.getElementById("oilLabel");
    const tyreLabel  = document.getElementById("tyreLabel");
    const brakeLabel = document.getElementById("brakeLabel");
    const suspLabel  = document.getElementById("suspLabel");

    const tempGauge  = document.getElementById("tempGauge");
    const rpmGauge   = document.getElementById("rpmGauge");
    const vibGauge   = document.getElementById("vibGauge");
    const oilGauge   = document.getElementById("oilGauge");
    const tyreGauge  = document.getElementById("tyreGauge");
    const brakeGauge = document.getElementById("brakeGauge");
    const suspGauge  = document.getElementById("suspGauge");

    const predictBtn  = document.getElementById("predictBtn");
    const statusBadge = document.getElementById("statusBadge");
    const statusMain  = document.getElementById("statusMain");
    const statusSub   = document.getElementById("statusSub");
    const probText    = document.getElementById("probText");
    const reasonList  = document.getElementById("reasonList");
    const needle      = document.getElementById("needle");
    const logList     = document.getElementById("logList");

    const presetBtns = document.querySelectorAll(".chip");

    function sigmoid(x) {
      return 1 / (1 + Math.exp(-x));
    }

    function computeRiskProbability(temp, rpm, vib, oil, tyre, brake, susp) {
      let score = -1.0;

      if (temp > TEMP_LIMIT) {
        score += (temp - TEMP_LIMIT) / 15.0;
      }
      if (rpm > RPM_LIMIT) {
        score += (rpm - RPM_LIMIT) / 1500.0;
      }
      if (vib > VIB_LIMIT) {
        score += (vib - VIB_LIMIT) / 0.03;
      }
      if (oil < OIL_MIN) {
        score += (OIL_MIN - oil) / 10.0;
      }

      // Tyre pressure: penalty if outside ideal band
      if (tyre < TYRE_IDEAL_MIN) {
        score += (TYRE_IDEAL_MIN - tyre) / 4.0;
      } else if (tyre > TYRE_IDEAL_MAX) {
        score += (tyre - TYRE_IDEAL_MAX) / 4.0;
      }

      // Brake health: lower → more risk
      if (brake < BRAKE_MIN) {
        score += (BRAKE_MIN - brake) / 20.0;
      }

      // Suspension health: lower → more risk
      if (susp < SUSP_MIN) {
        score += (SUSP_MIN - susp) / 20.0;
      }

      return sigmoid(score);
    }

    function explainRisk(temp, rpm, vib, oil, tyre, brake, susp) {
      const reasons = [];
      if (temp > TEMP_LIMIT) {
        reasons.push(`High engine temperature (${temp.toFixed(1)}°C > ${TEMP_LIMIT.toFixed(1)}°C)`);
      }
      if (rpm > RPM_LIMIT) {
        reasons.push(`High engine speed (${rpm.toFixed(0)} RPM > ${RPM_LIMIT.toFixed(0)} RPM)`);
      }
      if (vib > VIB_LIMIT) {
        reasons.push(`Increased vibration level (${vib.toFixed(3)} > ${VIB_LIMIT.toFixed(3)})`);
      }
      if (oil < OIL_MIN) {
        reasons.push(`Low oil pressure (${oil.toFixed(1)} PSI < ${OIL_MIN.toFixed(1)} PSI)`);
      }

      if (tyre < TYRE_IDEAL_MIN || tyre > TYRE_IDEAL_MAX) {
        reasons.push(`Tyre pressure outside optimal band (${tyre.toFixed(1)} PSI, ideal ${TYRE_IDEAL_MIN}-${TYRE_IDEAL_MAX} PSI)`);
      }

      if (brake < BRAKE_MIN) {
        reasons.push(`Brake health degraded (${brake.toFixed(0)}% < ${BRAKE_MIN.toFixed(0)}%)`);
      }

      if (susp < SUSP_MIN) {
        reasons.push(`Suspension health poor (${susp.toFixed(0)}% < ${SUSP_MIN.toFixed(0)}%)`);
      }

      if (reasons.length === 0) {
        reasons.push("All monitored subsystems (engine, tyres, brakes, suspension) are within safe thresholds.");
      }
      return reasons;
    }

    function updateLabels() {
      const temp = parseFloat(tempSlider.value);
      const rpm  = parseFloat(rpmSlider.value);
      const vib  = parseFloat(vibSlider.value) / 100.0 * 0.3;
      const oil  = parseFloat(oilSlider.value);
      const tyre = parseFloat(tyreSlider.value);
      const brake = parseFloat(brakeSlider.value);
      const susp  = parseFloat(suspSlider.value);

      tempLabel.textContent  = `${temp} °C`;
      rpmLabel.textContent   = `${rpm} RPM`;
      vibLabel.textContent   = `${vib.toFixed(2)} g`;
      oilLabel.textContent   = `${oil} PSI`;
      tyreLabel.textContent  = `${tyre} PSI`;
      brakeLabel.textContent = `${brake} %`;
      suspLabel.textContent  = `${susp} %`;

      tempGauge.textContent  = `${temp} °C`;
      rpmGauge.textContent   = `${rpm}`;
      vibGauge.textContent   = `${vib.toFixed(2)} g`;
      oilGauge.textContent   = `${oil} PSI`;
      tyreGauge.textContent  = `${tyre} PSI`;
      brakeGauge.textContent = `${brake} %`;
      suspGauge.textContent  = `${susp} %`;
    }

    function setBandClasses(band) {
      statusMain.classList.remove("good", "warn", "bad");
      statusMain.classList.add(band);
      statusBadge.textContent =
        band === "good" ? "LIVE · SAFE" :
        band === "warn" ? "LIVE · WARNING" :
        "LIVE · CRITICAL";
      statusBadge.style.color =
        band === "good" ? "#00ff7b" :
        band === "warn" ? "#ffd93b" :
        "#ff3366";
    }

    function updateGauge(prob) {
      const angle = -110 + prob * 220;
      needle.style.transform = `rotate(${angle}deg)`;
    }

    function appendLog(prob, band, temp, rpm, vib, oil, tyre, brake, susp) {
      const time = new Date().toLocaleTimeString("en-IN", {
        hour12: false,
        hour: "2-digit",
        minute: "2-digit",
        second: "2-digit"
      });

      const li = document.createElement("li");
      li.className = "log-item";

      const top = document.createElement("div");
      top.className = "log-top";

      const left = document.createElement("div");
      left.textContent =
        `[${time}] T:${temp}°C · RPM:${rpm} · Vib:${vib.toFixed(2)} · Oil:${oil} · Tyre:${tyre} · Br:${brake}% · Susp:${susp}%`;

      const right = document.createElement("div");
      const p = (prob * 100).toFixed(0) + "%";
      const status = document.createElement("span");
      status.className = "status-tag " + band;
      status.textContent =
        band === "good" ? "SAFE" :
        band === "warn" ? "WARN" :
        "HIGH";

      right.innerHTML = p + " · ";
      right.appendChild(status);

      top.appendChild(left);
      top.appendChild(right);

      const bottom = document.createElement("div");
      bottom.className = "log-bottom";
      bottom.textContent =
        band === "good"
          ? "All subsystems nominal."
          : band === "warn"
          ? "Monitor tyres/brakes/suspension soon."
          : "High risk: schedule maintenance immediately.";

      li.appendChild(top);
      li.appendChild(bottom);
      logList.prepend(li);

      while (logList.children.length > 5) {
        logList.removeChild(logList.lastChild);
      }
    }

    function runPrediction() {
      const temp  = parseFloat(tempSlider.value);
      const rpm   = parseFloat(rpmSlider.value);
      const vib   = parseFloat(vibSlider.value) / 100.0 * 0.3;
      const oil   = parseFloat(oilSlider.value);
      const tyre  = parseFloat(tyreSlider.value);
      const brake = parseFloat(brakeSlider.value);
      const susp  = parseFloat(suspSlider.value);

      const prob = computeRiskProbability(temp, rpm, vib, oil, tyre, brake, susp);
      const probPct = prob * 100;

      let band;
      if (prob < 0.4) {
        band = "good";
      } else if (prob < 0.7) {
        band = "warn";
      } else {
        band = "bad";
      }

      setBandClasses(band);
      updateGauge(prob);

      let title, subtitle;
      if (band === "good") {
        title = "VEHICLE SAFE";
        subtitle = "Engine, tyres, brakes and suspension are operating inside safe thresholds.";
      } else if (band === "warn") {
        title = "EARLY WARNING";
        subtitle = "Degradation detected in one or more subsystems. Plan a maintenance window soon.";
      } else {
        title = "HIGH FAILURE RISK";
        subtitle = "Multiple subsystems cross safe thresholds. Immediate attention recommended.";
      }

      statusMain.textContent = title;
      statusSub.textContent  = subtitle;
      probText.textContent   = `Failure probability: ${probPct.toFixed(1)}%`;

      const reasons = explainRisk(temp, rpm, vib, oil, tyre, brake, susp);
      reasonList.innerHTML = "";
      reasons.forEach(r => {
        const li = document.createElement("li");
        li.textContent = r;
        reasonList.appendChild(li);
      });

      appendLog(prob, band, temp, rpm, vib, oil, tyre, brake, susp);
    }

    function applyPreset(type) {
      if (type === "good") {
        tempSlider.value  = 95;
        rpmSlider.value   = 3000;
        vibSlider.value   = 3;   // ~0.03
        oilSlider.value   = 40;
        tyreSlider.value  = 34;  // ideal mid
        brakeSlider.value = 90;
        suspSlider.value  = 85;
      } else if (type === "warn") {
        tempSlider.value  = 108;
        rpmSlider.value   = 4800;
        vibSlider.value   = 7;   // ~0.07
        oilSlider.value   = 28;
        tyreSlider.value  = 28;  // slightly low
        brakeSlider.value = 55;
        suspSlider.value  = 60;
      } else if (type === "bad") {
        tempSlider.value  = 125;
        rpmSlider.value   = 6200;
        vibSlider.value   = 12;  // ~0.12
        oilSlider.value   = 18;
        tyreSlider.value  = 24;  // very low
        brakeSlider.value = 20;
        suspSlider.value  = 25;
      }
      updateLabels();
      runPrediction();
    }

    [
      tempSlider,
      rpmSlider,
      vibSlider,
      oilSlider,
      tyreSlider,
      brakeSlider,
      suspSlider
    ].forEach(sl => {
      sl.addEventListener("input", updateLabels);
    });

    predictBtn.addEventListener("click", () => {
      updateLabels();
      runPrediction();
    });

    presetBtns.forEach(btn => {
      btn.addEventListener("click", () => {
        const type = btn.getAttribute("data-preset");
        applyPreset(type);
      });
    });

    // Initial render
    updateLabels();
    runPrediction();
  </script>
</body>
</html>
